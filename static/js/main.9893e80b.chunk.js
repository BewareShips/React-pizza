(this["webpackJsonpreact-pizza-app"]=this["webpackJsonpreact-pizza-app"]||[]).push([[0],{12:function(e,t,a){e.exports={pizzaBlock:"PizzaBlock_pizzaBlock__25N6z",pizzaBlock__image:"PizzaBlock_pizzaBlock__image__3COID",pizzaBlock__title:"PizzaBlock_pizzaBlock__title__1uVO7",pizzaBlock__selector:"PizzaBlock_pizzaBlock__selector__36P0c",active:"PizzaBlock_active__28oiM",disabled:"PizzaBlock_disabled__1hMty",pizzaBlock__bottom:"PizzaBlock_pizzaBlock__bottom__2fi2a",pizzaBlock__price:"PizzaBlock_pizzaBlock__price__lW98-"}},13:function(e,t,a){e.exports={item:"CartItem_item__27pl2",item__img:"CartItem_item__img__3pIlO",item__info:"CartItem_item__info__2aRnY",item__count:"CartItem_item__count__3n6ZQ",item__button:"CartItem_item__button__jk17s",item__button__plus:"CartItem_item__button__plus__1nAFP",item__button__minus:"CartItem_item__button__minus__1QBeF",item__button__remove:"CartItem_item__button__remove__3Mruk",item__price:"CartItem_item__price__2vGTR",item__remove:"CartItem_item__remove__1hmd4",button:"CartItem_button__36BT0"}},19:function(e,t,a){e.exports={active:"Categories_active__2Jckz",categories__list:"Categories_categories__list__1W7zM"}},20:function(e,t,a){e.exports={sort:"SortBy_sort__D6o-A",sort__label:"SortBy_sort__label__1NZyV",sort__popup:"SortBy_sort__popup__em7ZZ",active:"SortBy_active__1dGsf"}},21:function(e,t,a){e.exports={content:"MainPage_content__1d0Cm",content__top:"MainPage_content__top__L8NgW",container:"MainPage_container__1A08Y",title:"MainPage_title__3pG6F",wrapper:"MainPage_wrapper__3sj-2"}},26:function(e,t,a){e.exports={button:"ButtonCart_button__2KTxp",button__delimiter:"ButtonCart_button__delimiter__3Y1Ma",img:"ButtonCart_img__2I7QN"}},27:function(e,t,a){e.exports={header:"Header_header__2yfq-",container:"Header_container__9Stp9",header__logo:"Header_header__logo__21BIo"}},4:function(e,t,a){e.exports={container:"Cart_container__2nQdb",cart:"Cart_cart__5eSUV",cart__top:"Cart_cart__top__2mrOh",cart__title:"Cart_cart__title__1E_4N",cart__clear:"Cart_cart__clear__n2DrX",bottom__details:"Cart_bottom__details__3Cc5h",bottom__buttons:"Cart_bottom__buttons__2ooFY",button:"Cart_button__2R10Y",goBackBtn:"Cart_goBackBtn__3XkTU",payButton:"Cart_payButton__yHFQ8",empty:"Cart_empty__2bY_l"}},42:function(e,t,a){e.exports={button:"ButtonPizza_button__2P8m5"}},46:function(e,t,a){e.exports={wrapper:"App_wrapper__wwTaC"}},47:function(e,t,a){e.exports=a.p+"static/media/cart.11883816.svg"},48:function(e,t,a){e.exports=a.p+"static/media/pizza-logo.f3327011.svg"},49:function(e,t,a){e.exports=a.p+"static/media/empty-cart.ceb2faf0.png"},50:function(e,t,a){e.exports=a.p+"static/media/trash.5d7ef77b.svg"},51:function(e,t,a){e.exports=a.p+"static/media/busket.c0e82d18.svg"},52:function(e,t,a){e.exports=a.p+"static/media/grey-arrow-left.a1b6992a.svg"},55:function(e,t,a){e.exports=a(82)},82:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),o=a.n(r),i=a(19),l=a.n(i);var _=function(e){var t=e.activeCategory,a=e.item,n=e.onClickedIt;return c.a.createElement("div",{className:l.a.categories},c.a.createElement("ul",{className:l.a.categories__list},c.a.createElement("li",{className:null===t?l.a.active:"",onClick:function(){return n(null)}},"\u0412\u0441\u0435"),a&&a.map((function(e,a){return c.a.createElement("li",{className:t===a?l.a.active:"",onClick:function(){return n(a)},key:"".concat(e,"_").concat(a)},e)}))))},m=a(18),s=a(20),u=a.n(s);var p=function(e){var t=e.itemRatingPizzas,a=e.onClickSortType,n=e.activeSortType,r=c.a.useState(!1),o=Object(m.a)(r,2),i=o[0],l=o[1],_=c.a.useRef();c.a.useEffect((function(){document.body.addEventListener("click",s)}),[]);var s=function(e){(e.path||e.composedPath&&e.composedPath()).includes(_.current)||l(!1)},p=t.map((function(e,t){return c.a.createElement("li",{onClick:function(){return function(e){a&&a(e)}(e)},key:e.type,className:n===e.type?u.a.active:" "},e.name)})),d=t.find((function(e){return e.type===n}));return c.a.createElement("div",{ref:_,className:u.a.sort},c.a.createElement("div",{className:u.a.sort__label},c.a.createElement("b",null,"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e:"),c.a.createElement("span",{onClick:function(){return l(!i)}},d.name)),i&&c.a.createElement("div",{className:u.a.sort__popup},c.a.createElement("ul",null,p)))},d=a(21),E=a.n(d),b=a(12),f=a.n(b),v=a(42),y=a.n(v),z=function(e){var t=e.onClick,a=e.addedCount;return c.a.createElement("button",{onClick:t,className:y.a.button},c.a.createElement("span",null," + \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),a&&c.a.createElement("i",null,a))};var g=function(e){var t=e.id,a=e.name,n=e.imageUrl,r=e.types,o=e.sizes,i=e.price,l=e.onClickAddPizza,_=e.addedCount,s=c.a.useState(r[0]),u=Object(m.a)(s,2),p=u[0],d=u[1],E=c.a.useState(0),b=Object(m.a)(E,2),v=b[0],y=b[1],g=["\u0442\u043e\u043d\u043a\u043e\u0435","\u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435"],C=[26,30,40];return c.a.createElement("div",{className:f.a.pizzaBlock},c.a.createElement("img",{className:f.a.pizzaBlock__image,src:n,alt:"Pizza"}),c.a.createElement("h4",{className:f.a.pizzaBlock__title},a),c.a.createElement("div",{className:f.a.pizzaBlock__selector},c.a.createElement("ul",null,g.map((function(e,t){return c.a.createElement("li",{key:"".concat(e,"__").concat(t),onClick:function(){return function(e){d(e)}(t)},className:" ".concat(p===t?f.a.active:" "," \n                              ").concat(r.includes(t)?" ":f.a.disabled)},e)}))),c.a.createElement("ul",null,C.map((function(e,t){return c.a.createElement("li",{key:"".concat(e,"__").concat(t),onClick:function(){return y(t)},className:" ".concat(v===t?f.a.active:" ","               \n                              ").concat(o.includes(e)?" ":f.a.disabled)},e," \u0441\u043c.")})))),c.a.createElement("div",{className:f.a.pizzaBlock__bottom},c.a.createElement("div",{className:f.a.pizzaBlock__price},"\u043e\u0442 ",i," \u20bd"),c.a.createElement(z,{addedCount:_,onClick:function(){var e={id:t,name:a,imageUrl:n,price:i,size:C[v],type:g[p]};l(e)}})))},C=a(7),k=a(44),h=a.n(k),N=function(e){return{type:"SET_PIZZAS",payload:e}},B=a(45);var O=function(){return c.a.createElement(B.a,{speed:2,width:280,height:470,viewBox:"0 0 280 470",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},c.a.createElement("circle",{cx:"135",cy:"122",r:"120"}),c.a.createElement("rect",{x:"0",y:"261",rx:"6",ry:"6",width:"280",height:"23"}),c.a.createElement("rect",{x:"0",y:"300",rx:"6",ry:"6",width:"280",height:"96"}),c.a.createElement("rect",{x:"2",y:"428",rx:"0",ry:"0",width:"89",height:"30"}),c.a.createElement("rect",{x:"103",y:"420",rx:"20",ry:"20",width:"172",height:"48"}))},P=["\u041c\u044f\u0441\u043d\u044b\u0435","\u0412\u0435\u0433\u0435\u0442\u0430\u0440\u0438\u0430\u043d\u0441\u043a\u0430\u044f","\u0413\u0440\u0438\u043b\u044c","\u041e\u0441\u0442\u0440\u044b\u0435","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435"],j=[{name:"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438",type:"popular",order:"desc"},{name:"\u0446\u0435\u043d\u0435",type:"price",order:"desc"},{name:"\u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443",type:"name",order:"asc"}];var w=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.pizzas.items})),a=Object(C.c)((function(e){return e.cart.items})),n=Object(C.c)((function(e){return e.pizzas.isLoaded})),r=Object(C.c)((function(e){return e.filter})),o=r.category,i=r.sortBy;c.a.useEffect((function(){e(function(e,t){return function(a){a({type:"SET_LOADED",payload:!1}),h.a.get("/pizzas?".concat(null!==t?"category=".concat(t):"","&_sort=").concat(e.type,"&_order=").concat(e.order)).then((function(e){var t=e.data;return a(N(t))}))}}(i,o))}),[o,i]);var l=function(t){e({type:"ADD_PIZZA_CART",payload:t})};return c.a.createElement("div",{className:E.a.content},c.a.createElement("div",{className:E.a.container},c.a.createElement("div",{className:E.a.content__top},c.a.createElement(_,{activeCategory:o,onClickedIt:function(t){e({type:"SET_CATEGORY",payload:t})},item:P}),c.a.createElement(p,{activeSortType:i.type,itemRatingPizzas:j,onClickSortType:function(t){var a;e({type:"SET_SORT_BY",payload:{type:(a=t).type,order:a.order}})}})),c.a.createElement("h2",{className:"content__title"},"\u0412\u0441\u0435 \u043f\u0438\u0446\u0446\u044b"),c.a.createElement("div",{className:E.a.wrapper},n?t.map((function(e){return c.a.createElement(g,Object.assign({onClickAddPizza:l,addedCount:a[e.id]&&a[e.id].items.length,key:e.id},e))})):Array(t.length).fill(0).map((function(e,t){return c.a.createElement(O,{key:t})})))))},x=a(46),T=a.n(x),S=a(26),I=a.n(S),A=a(47),R=a.n(A),M=a(11);var D=function(){var e=Object(C.c)((function(e){return e.cart})),t=e.totalPrice,a=e.totalCount;return c.a.createElement("div",null,c.a.createElement(M.b,{to:"/cart",className:I.a.button},c.a.createElement("span",null,t," \u20bd"),c.a.createElement("div",{className:I.a.button__delimiter}),c.a.createElement("img",{className:I.a.img,src:R.a}),c.a.createElement("span",null,a)))},Z=a(48),L=a.n(Z),Y=a(27),U=a.n(Y);var V=function(){return c.a.createElement("div",{className:U.a.header},c.a.createElement("div",{className:U.a.container},c.a.createElement(M.b,{to:"/",style:{textDecoration:"none"}},c.a.createElement("div",{className:U.a.header__logo},c.a.createElement("img",{width:"38",src:L.a,alt:"Pizza logo"}),c.a.createElement("div",null,c.a.createElement("h1",null,"React Pizza"),c.a.createElement("p",null,"\u0441\u0430\u043c\u0430\u044f \u0432\u043a\u0443\u0441\u043d\u0430\u044f \u043f\u0438\u0446\u0446\u0430 \u0432\u043e \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439")))),c.a.createElement(D,null)))},F=a(4),G=a.n(F),Q=a(49),H=a.n(Q);var X=function(){return c.a.createElement("div",{className:"".concat(G.a.cart," ").concat(G.a.empty)},c.a.createElement("h2",null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430\u044f ",c.a.createElement("i",null,"\ud83d\ude15")),c.a.createElement("p",null,"\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u0435\u0439 \u0432\u0441\u0435\u0433\u043e, \u0432\u044b \u043d\u0435 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u043b\u0438 \u0435\u0449\u0451 \u043f\u0438\u0446\u0446\u0443.",c.a.createElement("br",null),"\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0438\u0446\u0446\u0443, \u043f\u0435\u0440\u0435\u0439\u0434\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."),c.a.createElement("img",{src:H.a,alt:"Empty cart"}),c.a.createElement(M.b,{to:"/",className:"".concat(G.a.goBackBtn," ").concat(G.a.button)},c.a.createElement("span",null,"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434")))},J=a(50),W=a.n(J),q=a(51),K=a.n(q),$=a(52),ee=a.n($),te=a(13),ae=a.n(te);var ne=function(e){var t=e.id,a=e.name,n=e.type,r=e.imageUrl,o=e.size,i=e.totalPrice,l=e.totalCount,_=e.onRemoveItem;return c.a.createElement("div",{className:ae.a.item},c.a.createElement("div",{className:ae.a.item__img},c.a.createElement("img",{src:r,alt:"Pizza"})),c.a.createElement("div",{className:ae.a.item__info},c.a.createElement("h3",null,a),c.a.createElement("p",null,n," \u0442\u0435\u0441\u0442\u043e, ",o," \u0441\u043c.")),c.a.createElement("div",{className:ae.a.item__count},c.a.createElement("b",null,l)),c.a.createElement("div",{className:ae.a.item__price},c.a.createElement("b",null,i," \u20bd")),c.a.createElement("div",{className:ae.a.item__remove},c.a.createElement("div",{className:ae.a.item__button},c.a.createElement("span",{className:ae.a.item__button__remove,onClick:function(){return _(t)}},"\u0445"))))};var ce=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.cart})),a=t.totalCount,n=t.totalPrice,r=t.items,o=Object.keys(r).map((function(e){return r[e].items[0]})),i=function(t){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ?")&&e(function(e){return{type:"REMOVE_CART_ITEM",payload:e}}(t))};return c.a.createElement("div",{className:G.a.container},a?c.a.createElement("div",{className:G.a.cart},c.a.createElement("div",{className:G.a.cart__top},c.a.createElement("h2",{className:G.a.cart__title},c.a.createElement("img",{src:K.a,alt:"busket"}),c.a.createElement("span",null," \u041a\u043e\u0440\u0437\u0438\u043d\u0430")),c.a.createElement("div",{className:G.a.cart__clear},c.a.createElement("span",{onClick:function(){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443?")&&e({type:"CLEAR_CART"})}},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443 ",c.a.createElement("img",{src:W.a,alt:"trash sign"})))),c.a.createElement("div",null,o.map((function(e){return c.a.createElement(ne,{id:e.id,name:e.name,type:e.type,imageUrl:e.imageUrl,size:e.size,totalPrice:r[e.id].totalPrice,totalCount:r[e.id].items.length,onRemoveItem:i})}))),c.a.createElement("div",{className:G.a.bottom},c.a.createElement("div",{className:G.a.bottom__details},c.a.createElement("span",null,"\u0412\u0441\u0435\u0433\u043e \u043f\u0438\u0446\u0446: ",c.a.createElement("b",null,a," \u0448\u0442.")),c.a.createElement("span",null,"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430: ",c.a.createElement("b",null,n,"\u20bd"))),c.a.createElement("div",{className:G.a.bottom__buttons},c.a.createElement(M.b,{to:"/",className:"".concat(G.a.goBackBtn," ").concat(G.a.button)},c.a.createElement("img",{src:ee.a}),c.a.createElement("span",null,"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434")),c.a.createElement("button",{className:"".concat(G.a.payButton," ").concat(G.a.button)},c.a.createElement("span",null,"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441"))))):c.a.createElement(X,null))},re=a(2),oe=function(){return c.a.createElement("div",{className:T.a.wrapper},c.a.createElement(V,null),c.a.createElement("div",null,c.a.createElement(re.a,{path:"/",component:w,exact:!0}),c.a.createElement(re.a,{path:"/cart",component:ce,exact:!0})))},ie=a(14),le=a(3),_e={category:null,sortBy:{type:"popular",order:"desc"}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SORT_BY":return Object(le.a)(Object(le.a)({},e),{},{sortBy:t.payload});case"SET_CATEGORY":return Object(le.a)(Object(le.a)({},e),{},{category:t.payload});default:return e}},se={items:[],isLoaded:!1},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PIZZAS":return Object(le.a)(Object(le.a)({},e),{},{items:t.payload,isLoaded:!0});case"SET_LOADED":return Object(le.a)(Object(le.a)({},e),{},{isLoaded:t.payload});default:return e}},pe=a(25),de=a(54),Ee={items:{},totalPrice:0,totalCount:0},be=function(e){return e.reduce((function(e,t){return e+t.price}),0)},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PIZZA_CART":var a=e.items[t.payload.id]?[].concat(Object(de.a)(e.items[t.payload.id].items),[t.payload]):[t.payload],n=Object(le.a)(Object(le.a)({},e.items),{},Object(pe.a)({},t.payload.id,{items:a,totalPrice:be(a)})),c=Object.values(n).reduce((function(e,t){return e.concat(t.items)}),[]);return Object(le.a)(Object(le.a)({},e),{},{items:n,totalCount:Object.values(n).reduce((function(e,t){return e.concat(t.items)}),[]).length,totalPrice:be(c)});case"CLEAR_CART":return{items:{},totalPrice:0,totalCount:0};case"REMOVE_CART_ITEM":var r=e.items[t.payload].totalPrice,o=e.items[t.payload].items.length,i=Object(le.a)({},e.items);return delete i[t.payload],Object(le.a)(Object(le.a)({},e),{},{items:i,totalPrice:e.totalPrice-r,totalCount:e.totalCount-o});default:return e}},ve=Object(ie.c)({filter:me,pizzas:ue,cart:fe}),ye=a(53),ze="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.d,ge=Object(ie.e)(ve,ze(Object(ie.a)(ye.a)));window.store=ge;var Ce=ge;o.a.render(c.a.createElement(M.a,null,c.a.createElement(C.a,{store:Ce},c.a.createElement(oe,null))),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.9893e80b.chunk.js.map